{% extends 'base.html' %}

{% block style %}
	<style>
		main {
			background: linear-gradient(0.65turn, #e66465, #9198e5, #e66465);
		}
	</style>
{% endblock style %}

{% block content %}

  <div class="container d-flex flex-column align-items-center col-6">
    <header class="container d-flex my-3 border-bottom">
      <h1>Detail</h1>
    </header>
    <main class="card border-0 p-2">
      <img src="{{ movie.poster_path }}" alt="게시글 이미지" class="w-100 p-2">
      <div class="card-body p-1">
        <h1 class="card-title m-1 py-2">{{ movie.title }}</h1>

        <form action="{% url 'movies:like' movie.pk %}" method="POST" class="d-inline">
          {% csrf_token %}
          {% if user in movie.like_users.all %}
            <button>좋아요 취소</button>
          {% else %}
            <button>좋아요</button>
          {% endif %}
        </form>
        <p>{{ movie.like_users.all|length }} 명이 이 글을 좋아합니다.</p>

        <p class="card-text m-1">{{ movie.overview }}</p>
      </div>
    </main>
  </div>

{% endblock %}
